@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<header>
    <nav class="navbar navbar-expand-sm">
        <div class="container d-flex align-items-center flex-nowrap">
            <a class="navbar-brand me-3" asp-area="" asp-page="/Index">MusicWebApp</a>

            <div class="d-flex align-items-center gap-3 ms-auto flex-nowrap">
                <div>
                    <label class="form-label mb-0 me-1">Seed</label>
                    <input id="seedInput" type="text" onkeyup="update()" class="form-control form-control-sm d-inline-block" maxlength="20" style="width: 160px" />
                    <button id="randomizeSeed" type="button" onclick="randomize_seed()" class="btn btn-outline-secondary btn-sm d-inline-flex align-items-center justify-content-center p-0" style="width: 32px; height: 32px;" aria-label="Random seed">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi" viewBox="0 0 16 16" aria-hidden="true" focusable="false">
                            <path d="M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3z" />
                            <path d="M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" />
                        </svg>
                    </button>
                </div>

                <div class="d-flex align-items-center">
                    <label class="form-label mb-0 me-2">Locale</label>
                    <select id="localeInput" class="form-select form-select-sm" style="width: 120px" onchange="update()">
                        <option value="en" selected>English</option>
                        <option value="ru">Русский</option>
                    </select>
                </div>

                <div class="d-flex align-items-center">
                    <label class="form-label mb-0 me-2">Likes</label>
                    <input id="likesInput" type="range" min="0.0" max="10.0" step="0.1" value="5.0"
                           class="form-range" style="width: 200px"
                           oninput="update()" />
                    <span id="likesValue" class="ms-2 text-nowrap" style="width: 4ch;" value="5.0">5.0</span>
                </div>

                <div class="d-flex align-items-center">
                    <label class="form-label mb-0 me-2">Page size</label>
                    <select id="pageSizeInput" class="form-select form-select-sm" style="width: 100px" onchange="update_page_size()">
                        <option value="10" selected>10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                </div>

                <div class="d-flex align-items-center ms-2">
                    <label class="form-label mb-0 me-2">View</label>
                    <div class="btn-group" role="group" aria-label="View selector">
                        <button id="viewTableBtn" type="button" class="btn btn-outline-secondary btn-sm active" onclick="switch_view('table')" title="Table view" aria-pressed="true">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5" />
                            </svg>
                        </button>
                        <button id="viewGalleryBtn" type="button" class="btn btn-outline-secondary btn-sm" onclick="switch_view('gallery')" title="Gallery view" aria-pressed="false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grid-3x2-gap" viewBox="0 0 16 16">
                                <path d="M4 4v2H2V4zm1 7V9a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m0-5V4a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m5 5V9a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1m0-5V4a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1M9 4v2H7V4zm5 0h-2v2h2zM4 9v2H2V9zm5 0v2H7V9zm5 0v2h-2V9zm-3-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1zm1 4a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>

<div class="container">
    <div id="tableContainer" class="music-list border rounded-3">
        <div class="music-row music-header">
            <div class="cell col-num text-center">#</div>
            <div class="cell col-title">Title</div>
            <div class="cell col-artist">Artist</div>
            <div class="cell col-album">Album</div>
            <div class="cell col-genre">Genre</div>
            <div class="cell col-likes text-center">Likes</div>
        </div>

        <div id="tableBody" class="music-body"></div>
    </div>

    <div id="galleryBody" class="gallery-grid d-none"></div>

    <div id="paginationWrapper" class="d-flex mt-3">
        <ul id="pagination" class="pagination">
            <li class="page-item">
                <button class="page-link" type="button" data-prev aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </button>
            </li>
            <li class="page-item"><button class="page-link" type="button" value="0">1</button></li>
            <li class="page-item"><button class="page-link" type="button" value="1">2</button></li>
            <li class="page-item"><button class="page-link" type="button" value="2">3</button></li>
            <li class="page-item"><button class="page-link" type="button" value="3">4</button></li>
            <li class="page-item"><button class="page-link" type="button" value="4">5</button></li>
            <li class="page-item">
                <button class="page-link" type="button" data-next aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </button>
            </li>
        </ul>
    </div>
</div>


@section Scripts{
    <script src="~/js/music.js"></script>
}